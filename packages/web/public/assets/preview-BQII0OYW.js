import{j as e,r as i,B as d,L as u}from"./index-CzQ-6GRY.js";import{b as f,c as p,d as x}from"./use-version-OEqN3Viw.js";import{A as m}from"./layout-Ds1nrRM2.js";function g(){return e.jsx(m,{activeTab:"preview",activePanel:null,children:e.jsx(h,{})})}function h(){const{url:r,status:s,start:a,exitCode:l}=f(),{nodeModulesExists:t}=p(),{togglePane:c}=x(),[n,o]=i.useState(!1);if(i.useEffect(()=>{t&&s==="stopped"&&!n&&(o(!0),a())},[t,s,a,n]),t===!1)return e.jsx("div",{className:"flex justify-center items-center w-full h-full",children:e.jsx("span",{className:"text-tertiary-foreground",children:"Dependencies not installed"})});switch(s){case"connecting":case"booting":return e.jsx("div",{className:"flex justify-center items-center w-full h-full",children:e.jsx(u,{size:18,className:"animate-spin"})});case"running":return r===null?void 0:e.jsx("div",{className:"w-full h-full",children:e.jsx("iframe",{className:"w-full h-full",src:r,title:"App preview"})});case"stopped":return e.jsx("div",{className:"flex justify-center items-center w-full h-full",children:l===null||l===0?e.jsx("span",{className:"text-tertiary-foreground",children:"Preview server is stopped."}):e.jsxs("div",{className:"flex flex-col gap-6 items-center border border-border p-8 border-dashed rounded-md",children:[e.jsx("span",{className:"text-red-400",children:"Preview server exited with an error."}),e.jsx(d,{variant:"secondary",onClick:c,children:"View logs"})]})})}}export{g as default};
