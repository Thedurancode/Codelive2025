import{r,a as m,i as x,c as p,b as g,j as e,C as h,U as j}from"./index-CzQ-6GRY.js";function b(t){if(!t.open)return null;const a=t.open?"open":"closed";return e.jsxs(e.Fragment,{children:[e.jsx("div",{"aria-hidden":"true","data-state":a,className:"fixed inset-0 z-50 bg-sb-core-130/90 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),e.jsx(h,{role:"dialog","data-state":a,className:"focus-within:outline-none fixed w-full max-w-sm h-48 p-6 left-[50%] top-[50%] z-50 grid gap-4 bg-background border rounded-md shadow-xl translate-x-[-50%] translate-y-[-50%] duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",children:e.jsxs("div",{className:"flex flex-col h-full gap-3",children:[e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-primary text-primary-foreground rounded-full",children:e.jsx(j,{size:18})})}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2",children:[e.jsx("strong",{className:"text-lg font-semibold leading-tight",children:"Open Notebook"}),e.jsxs("p",{className:"text-tertiary-foreground",children:["Drop ",e.jsx("code",{className:"code",children:".src.md"})," file to open"]})]})]})})]})}function w(t){const[a,o]=r.useState(!1),n=m(),l=r.useCallback(async d=>{if(d.length!==1)return;const s=d[0];if(!(s!=null&&s.name.endsWith(".src.md")))return;const c=await s.text(),{result:u}=await x({text:c}),{result:f}=await p({path:u.dir});return o(!1),n(`/srcbooks/${f.id}`)},[n]),{getRootProps:i}=g({onDrop:l,noClick:!0,multiple:!1,maxFiles:1,onDragEnter:()=>o(!0),onDragLeave:()=>o(!1)});return e.jsxs("div",{...i(),children:[t.children,e.jsx(b,{open:a})]})}export{w as DragAndDropSrcmdModal};
