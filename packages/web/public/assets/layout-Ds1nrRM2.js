import{bH as P,r as i,bI as Q,bJ as er,j as n,bK as X,bL as E,bM as xe,bN as Tt,bO as tr,bP as nr,bQ as rr,bR as sr,bS as ar,bT as oe,bU as or,bV as ir,bW as cr,bX as lr,bY as ur,bZ as dr,b_ as fr,b$ as It,c0 as Dt,c1 as _t,c2 as hr,c3 as Re,c4 as mr,c5 as xr,c6 as pr,c7 as vr,c8 as gr,c9 as yr,ca as br,cb as Cr,cc as jr,cd as wr,ce as Y,cf as Mr,cg as Nr,ch as kr,ci as Er,cj as B,ck as K,cl as q,cm as Z,e as D,cn as J,co as Rr,cp as Ke,cq as Pr,cr as V,cs as Sr,ct as Tr,cu as Lt,cv as Ir,cw as Dr,cx as _r,cy as Lr,cz as Or,cA as Ar,cB as Fr,cC as Ot,cD as zr,B as L,cE as $r,L as qe,cF as Br,cG as Ur,cH as Hr,cI as Gr,h as At,cJ as mt,cK as Vr,cL as ge,cM as Xr,cN as Ft,cO as Wr,cP as Yr,cQ as Kr,cR as qr,cS as Zr,cT as Jr,cU as Qr,cV as es,cW as zt,cX as $t,cY as Bt,cZ as Ut,c_ as xt,c$ as Ht,d0 as ts,d1 as pt,d2 as ns,d3 as rs,d4 as ss,a as as,d5 as os}from"./index-CzQ-6GRY.js";import{e as Ze,f as Je,c as ie,d as Qe,u as et,b as is}from"./use-version-OEqN3Viw.js";/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=P("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=P("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=P("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=P("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=P("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=P("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=P("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=P("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=P("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=P("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=P("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=P("GripHorizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=P("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=P("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=P("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=P("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=P("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=P("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=P("PanelTopOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"m15 14-3 3-3-3",key:"g215vf"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=P("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=P("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=P("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=P("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=P("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=P("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=P("View",[["path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2",key:"mrq65r"}],["path",{d:"M21 7V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2",key:"be3xqs"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]]);var Ds="DismissableLayer",Be="dismissableLayer.update",_s="dismissableLayer.pointerDownOutside",Ls="dismissableLayer.focusOutside",vt,Vt=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xt=i.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:c,onDismiss:l,...u}=e,m=i.useContext(Vt),[d,f]=i.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=i.useState({}),v=Q(t,j=>f(j)),p=Array.from(m.layers),[y]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=p.indexOf(y),k=d?p.indexOf(d):-1,M=m.layersWithOutsidePointerEventsDisabled.size>0,b=k>=C,x=Fs(j=>{const T=j.target,S=[...m.branches].some(R=>R.contains(T));!b||S||(a==null||a(j),c==null||c(j),j.defaultPrevented||l==null||l())},h),N=zs(j=>{const T=j.target;[...m.branches].some(R=>R.contains(T))||(o==null||o(j),c==null||c(j),j.defaultPrevented||l==null||l())},h);return er(j=>{k===m.layers.size-1&&(s==null||s(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),i.useEffect(()=>{if(d)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(vt=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(d)),m.layers.add(d),gt(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=vt)}},[d,h,r,m]),i.useEffect(()=>()=>{d&&(m.layers.delete(d),m.layersWithOutsidePointerEventsDisabled.delete(d),gt())},[d,m]),i.useEffect(()=>{const j=()=>g({});return document.addEventListener(Be,j),()=>document.removeEventListener(Be,j)},[]),n.jsx(X.div,{...u,ref:v,style:{pointerEvents:M?b?"auto":"none":void 0,...e.style},onFocusCapture:E(e.onFocusCapture,N.onFocusCapture),onBlurCapture:E(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:E(e.onPointerDownCapture,x.onPointerDownCapture)})});Xt.displayName=Ds;var Os="DismissableLayerBranch",As=i.forwardRef((e,t)=>{const r=i.useContext(Vt),s=i.useRef(null),a=Q(t,s);return i.useEffect(()=>{const o=s.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),n.jsx(X.div,{...e,ref:a})});As.displayName=Os;function Fs(e,t=globalThis==null?void 0:globalThis.document){const r=xe(e),s=i.useRef(!1),a=i.useRef(()=>{});return i.useEffect(()=>{const o=l=>{if(l.target&&!s.current){let u=function(){Wt(_s,r,m,{discrete:!0})};const m={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function zs(e,t=globalThis==null?void 0:globalThis.document){const r=xe(e),s=i.useRef(!1);return i.useEffect(()=>{const a=o=>{o.target&&!s.current&&Wt(Ls,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function gt(){const e=new CustomEvent(Be);document.dispatchEvent(e)}function Wt(e,t,r,{discrete:s}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Tt(a,o):a.dispatchEvent(o)}var Fe=0;function $s(){i.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??yt()),document.body.insertAdjacentElement("beforeend",e[1]??yt()),Fe++,()=>{Fe===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Fe--}},[])}function yt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Bs="Portal",Yt=i.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,o]=i.useState(!1);tr(()=>o(!0),[]);const c=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return c?nr.createPortal(n.jsx(X.div,{...s,ref:t}),c):null});Yt.displayName=Bs;var Kt=rr(),ze=function(){},Pe=i.forwardRef(function(e,t){var r=i.useRef(null),s=i.useState({onScrollCapture:ze,onWheelCapture:ze,onTouchMoveCapture:ze}),a=s[0],o=s[1],c=e.forwardProps,l=e.children,u=e.className,m=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,v=e.inert,p=e.allowPinchZoom,y=e.as,C=y===void 0?"div":y,k=e.gapMode,M=sr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,x=ar([r,t]),N=oe(oe({},M),a);return i.createElement(i.Fragment,null,d&&i.createElement(b,{sideCar:Kt,removeScrollBar:m,shards:f,noIsolation:g,inert:v,setCallbacks:o,allowPinchZoom:!!p,lockRef:r,gapMode:k}),c?i.cloneElement(i.Children.only(l),oe(oe({},N),{ref:x})):i.createElement(C,oe({},N,{className:u,ref:x}),l))});Pe.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pe.classNames={fullWidth:or,zeroRight:ir};var Ue=!1;if(typeof window<"u")try{var ye=Object.defineProperty({},"passive",{get:function(){return Ue=!0,!0}});window.addEventListener("test",ye,ye),window.removeEventListener("test",ye,ye)}catch{Ue=!1}var se=Ue?{passive:!1}:!1,Us=function(e){return e.tagName==="TEXTAREA"},qt=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Us(e)&&r[t]==="visible")},Hs=function(e){return qt(e,"overflowY")},Gs=function(e){return qt(e,"overflowX")},bt=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=Zt(e,s);if(a){var o=Jt(e,s),c=o[1],l=o[2];if(c>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},Vs=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},Xs=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},Zt=function(e,t){return e==="v"?Hs(t):Gs(t)},Jt=function(e,t){return e==="v"?Vs(t):Xs(t)},Ws=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ys=function(e,t,r,s,a){var o=Ws(e,window.getComputedStyle(t).direction),c=o*s,l=r.target,u=t.contains(l),m=!1,d=c>0,f=0,h=0;do{var g=Jt(e,l),v=g[0],p=g[1],y=g[2],C=p-y-o*v;(v||C)&&Zt(e,l)&&(f+=C,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(m=!0),m},be=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ct=function(e){return[e.deltaX,e.deltaY]},jt=function(e){return e&&"current"in e?e.current:e},Ks=function(e,t){return e[0]===t[0]&&e[1]===t[1]},qs=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Zs=0,ae=[];function Js(e){var t=i.useRef([]),r=i.useRef([0,0]),s=i.useRef(),a=i.useState(Zs++)[0],o=i.useState(cr)[0],c=i.useRef(e);i.useEffect(function(){c.current=e},[e]),i.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=lr([e.lockRef.current],(e.shards||[]).map(jt),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=i.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!c.current.allowPinchZoom;var C=be(p),k=r.current,M="deltaX"in p?p.deltaX:k[0]-C[0],b="deltaY"in p?p.deltaY:k[1]-C[1],x,N=p.target,j=Math.abs(M)>Math.abs(b)?"h":"v";if("touches"in p&&j==="h"&&N.type==="range")return!1;var T=bt(j,N);if(!T)return!0;if(T?x=j:(x=j==="v"?"h":"v",T=bt(j,N)),!T)return!1;if(!s.current&&"changedTouches"in p&&(M||b)&&(s.current=x),!x)return!0;var S=s.current||x;return Ys(S,y,p,S==="h"?M:b,!0)},[]),u=i.useCallback(function(p){var y=p;if(!(!ae.length||ae[ae.length-1]!==o)){var C="deltaY"in y?Ct(y):be(y),k=t.current.filter(function(x){return x.name===y.type&&(x.target===y.target||y.target===x.shadowParent)&&Ks(x.delta,C)})[0];if(k&&k.should){y.cancelable&&y.preventDefault();return}if(!k){var M=(c.current.shards||[]).map(jt).filter(Boolean).filter(function(x){return x.contains(y.target)}),b=M.length>0?l(y,M[0]):!c.current.noIsolation;b&&y.cancelable&&y.preventDefault()}}},[]),m=i.useCallback(function(p,y,C,k){var M={name:p,delta:y,target:C,should:k,shadowParent:Qs(C)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(b){return b!==M})},1)},[]),d=i.useCallback(function(p){r.current=be(p),s.current=void 0},[]),f=i.useCallback(function(p){m(p.type,Ct(p),p.target,l(p,e.lockRef.current))},[]),h=i.useCallback(function(p){m(p.type,be(p),p.target,l(p,e.lockRef.current))},[]);i.useEffect(function(){return ae.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",u,se),document.addEventListener("touchmove",u,se),document.addEventListener("touchstart",d,se),function(){ae=ae.filter(function(p){return p!==o}),document.removeEventListener("wheel",u,se),document.removeEventListener("touchmove",u,se),document.removeEventListener("touchstart",d,se)}},[]);var g=e.removeScrollBar,v=e.inert;return i.createElement(i.Fragment,null,v?i.createElement(o,{styles:qs(a)}):null,g?i.createElement(ur,{gapMode:e.gapMode}):null)}function Qs(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ea=dr(Kt,Js);var Qt=i.forwardRef(function(e,t){return i.createElement(Pe,oe({},e,{ref:t,sideCar:ea}))});Qt.classNames=Pe.classNames;var He=["Enter"," "],ta=["ArrowDown","PageUp","Home"],en=["ArrowUp","PageDown","End"],na=[...ta,...en],ra={ltr:[...He,"ArrowRight"],rtl:[...He,"ArrowLeft"]},sa={ltr:["ArrowLeft"],rtl:["ArrowRight"]},pe="Menu",[fe,aa,oa]=fr(pe),[ee,tn]=It(pe,[oa,Dt,_t]),Se=Dt(),nn=_t(),[ia,te]=ee(pe),[ca,ve]=ee(pe),rn=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:o,modal:c=!0}=e,l=Se(t),[u,m]=i.useState(null),d=i.useRef(!1),f=xe(o),h=jr(a);return i.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),n.jsx(wr,{...l,children:n.jsx(ia,{scope:t,open:r,onOpenChange:f,content:u,onContentChange:m,children:n.jsx(ca,{scope:t,onClose:i.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:c,children:s})})})};rn.displayName=pe;var la="MenuAnchor",tt=i.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Se(r);return n.jsx(hr,{...a,...s,ref:t})});tt.displayName=la;var nt="MenuPortal",[ua,sn]=ee(nt,{forceMount:void 0}),an=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,o=te(nt,t);return n.jsx(ua,{scope:t,forceMount:r,children:n.jsx(Re,{present:r||o.open,children:n.jsx(Yt,{asChild:!0,container:a,children:s})})})};an.displayName=nt;var A="MenuContent",[da,rt]=ee(A),on=i.forwardRef((e,t)=>{const r=sn(A,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,o=te(A,e.__scopeMenu),c=ve(A,e.__scopeMenu);return n.jsx(fe.Provider,{scope:e.__scopeMenu,children:n.jsx(Re,{present:s||o.open,children:n.jsx(fe.Slot,{scope:e.__scopeMenu,children:c.modal?n.jsx(fa,{...a,ref:t}):n.jsx(ha,{...a,ref:t})})})})}),fa=i.forwardRef((e,t)=>{const r=te(A,e.__scopeMenu),s=i.useRef(null),a=Q(t,s);return i.useEffect(()=>{const o=s.current;if(o)return mr(o)},[]),n.jsx(st,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:E(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ha=i.forwardRef((e,t)=>{const r=te(A,e.__scopeMenu);return n.jsx(st,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),st=i.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:m,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,disableOutsideScroll:v,...p}=e,y=te(A,r),C=ve(A,r),k=Se(r),M=nn(r),b=aa(r),[x,N]=i.useState(null),j=i.useRef(null),T=Q(t,j,y.onContentChange),S=i.useRef(0),R=i.useRef(""),F=i.useRef(0),z=i.useRef(null),I=i.useRef("right"),ce=i.useRef(0),Le=v?Qt:i.Fragment,Jn=v?{as:Cr,allowPinchZoom:!0}:void 0,Qn=w=>{var re,ft;const O=R.current+w,$=b().filter(H=>!H.disabled),W=document.activeElement,Oe=(re=$.find(H=>H.ref.current===W))==null?void 0:re.textValue,Ae=$.map(H=>H.textValue),dt=Na(Ae,O,Oe),le=(ft=$.find(H=>H.textValue===dt))==null?void 0:ft.ref.current;(function H(ht){R.current=ht,window.clearTimeout(S.current),ht!==""&&(S.current=window.setTimeout(()=>H(""),1e3))})(O),le&&setTimeout(()=>le.focus())};i.useEffect(()=>()=>window.clearTimeout(S.current),[]),$s();const ne=i.useCallback(w=>{var $,W;return I.current===(($=z.current)==null?void 0:$.side)&&Ea(w,(W=z.current)==null?void 0:W.area)},[]);return n.jsx(da,{scope:r,searchRef:R,onItemEnter:i.useCallback(w=>{ne(w)&&w.preventDefault()},[ne]),onItemLeave:i.useCallback(w=>{var O;ne(w)||((O=j.current)==null||O.focus(),N(null))},[ne]),onTriggerLeave:i.useCallback(w=>{ne(w)&&w.preventDefault()},[ne]),pointerGraceTimerRef:F,onPointerGraceIntentChange:i.useCallback(w=>{z.current=w},[]),children:n.jsx(Le,{...Jn,children:n.jsx(xr,{asChild:!0,trapped:a,onMountAutoFocus:E(o,w=>{var O;w.preventDefault(),(O=j.current)==null||O.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:n.jsx(Xt,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:m,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,children:n.jsx(pr,{asChild:!0,...M,dir:C.dir,orientation:"vertical",loop:s,currentTabStopId:x,onCurrentTabStopIdChange:N,onEntryFocus:E(u,w=>{C.isUsingKeyboardRef.current||w.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(vr,{role:"menu","aria-orientation":"vertical","data-state":wn(y.open),"data-radix-menu-content":"",dir:C.dir,...k,...p,ref:T,style:{outline:"none",...p.style},onKeyDown:E(p.onKeyDown,w=>{const $=w.target.closest("[data-radix-menu-content]")===w.currentTarget,W=w.ctrlKey||w.altKey||w.metaKey,Oe=w.key.length===1;$&&(w.key==="Tab"&&w.preventDefault(),!W&&Oe&&Qn(w.key));const Ae=j.current;if(w.target!==Ae||!na.includes(w.key))return;w.preventDefault();const le=b().filter(re=>!re.disabled).map(re=>re.ref.current);en.includes(w.key)&&le.reverse(),wa(le)}),onBlur:E(e.onBlur,w=>{w.currentTarget.contains(w.target)||(window.clearTimeout(S.current),R.current="")}),onPointerMove:E(e.onPointerMove,he(w=>{const O=w.target,$=ce.current!==w.clientX;if(w.currentTarget.contains(O)&&$){const W=w.clientX>ce.current?"right":"left";I.current=W,ce.current=w.clientX}}))})})})})})})});on.displayName=A;var ma="MenuGroup",at=i.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(X.div,{role:"group",...s,ref:t})});at.displayName=ma;var xa="MenuLabel",cn=i.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(X.div,{...s,ref:t})});cn.displayName=xa;var Ne="MenuItem",wt="menu.itemSelect",Te=i.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,o=i.useRef(null),c=ve(Ne,e.__scopeMenu),l=rt(Ne,e.__scopeMenu),u=Q(t,o),m=i.useRef(!1),d=()=>{const f=o.current;if(!r&&f){const h=new CustomEvent(wt,{bubbles:!0,cancelable:!0});f.addEventListener(wt,g=>s==null?void 0:s(g),{once:!0}),Tt(f,h),h.defaultPrevented?m.current=!1:c.onClose()}};return n.jsx(ln,{...a,ref:u,disabled:r,onClick:E(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),m.current=!0},onPointerUp:E(e.onPointerUp,f=>{var h;m.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:E(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||He.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Te.displayName=Ne;var ln=i.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...o}=e,c=rt(Ne,r),l=nn(r),u=i.useRef(null),m=Q(t,u),[d,f]=i.useState(!1),[h,g]=i.useState("");return i.useEffect(()=>{const v=u.current;v&&g((v.textContent??"").trim())},[o.children]),n.jsx(fe.ItemSlot,{scope:r,disabled:s,textValue:a??h,children:n.jsx(gr,{asChild:!0,...l,focusable:!s,children:n.jsx(X.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...o,ref:m,onPointerMove:E(e.onPointerMove,he(v=>{s?c.onItemLeave(v):(c.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:E(e.onPointerLeave,he(v=>c.onItemLeave(v))),onFocus:E(e.onFocus,()=>f(!0)),onBlur:E(e.onBlur,()=>f(!1))})})})}),pa="MenuCheckboxItem",un=i.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(xn,{scope:e.__scopeMenu,checked:r,children:n.jsx(Te,{role:"menuitemcheckbox","aria-checked":ke(r)?"mixed":r,...a,ref:t,"data-state":it(r),onSelect:E(a.onSelect,()=>s==null?void 0:s(ke(r)?!0:!r),{checkForDefaultPrevented:!1})})})});un.displayName=pa;var dn="MenuRadioGroup",[va,ga]=ee(dn,{value:void 0,onValueChange:()=>{}}),fn=i.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,o=xe(s);return n.jsx(va,{scope:e.__scopeMenu,value:r,onValueChange:o,children:n.jsx(at,{...a,ref:t})})});fn.displayName=dn;var hn="MenuRadioItem",mn=i.forwardRef((e,t)=>{const{value:r,...s}=e,a=ga(hn,e.__scopeMenu),o=r===a.value;return n.jsx(xn,{scope:e.__scopeMenu,checked:o,children:n.jsx(Te,{role:"menuitemradio","aria-checked":o,...s,ref:t,"data-state":it(o),onSelect:E(s.onSelect,()=>{var c;return(c=a.onValueChange)==null?void 0:c.call(a,r)},{checkForDefaultPrevented:!1})})})});mn.displayName=hn;var ot="MenuItemIndicator",[xn,ya]=ee(ot,{checked:!1}),pn=i.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,o=ya(ot,r);return n.jsx(Re,{present:s||ke(o.checked)||o.checked===!0,children:n.jsx(X.span,{...a,ref:t,"data-state":it(o.checked)})})});pn.displayName=ot;var ba="MenuSeparator",vn=i.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(X.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});vn.displayName=ba;var Ca="MenuArrow",gn=i.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Se(r);return n.jsx(yr,{...a,...s,ref:t})});gn.displayName=Ca;var ja="MenuSub",[Zo,yn]=ee(ja),de="MenuSubTrigger",bn=i.forwardRef((e,t)=>{const r=te(de,e.__scopeMenu),s=ve(de,e.__scopeMenu),a=yn(de,e.__scopeMenu),o=rt(de,e.__scopeMenu),c=i.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=o,m={__scopeMenu:e.__scopeMenu},d=i.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return i.useEffect(()=>d,[d]),i.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),u(null)}},[l,u]),n.jsx(tt,{asChild:!0,...m,children:n.jsx(ln,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":wn(r.open),...e,ref:br(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:E(e.onPointerMove,he(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!c.current&&(o.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:E(e.onPointerLeave,he(f=>{var g,v;d();const h=(g=r.content)==null?void 0:g.getBoundingClientRect();if(h){const p=(v=r.content)==null?void 0:v.dataset.side,y=p==="right",C=y?-5:5,k=h[y?"left":"right"],M=h[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+C,y:f.clientY},{x:k,y:h.top},{x:M,y:h.top},{x:M,y:h.bottom},{x:k,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:E(e.onKeyDown,f=>{var g;const h=o.searchRef.current!=="";e.disabled||h&&f.key===" "||ra[s.dir].includes(f.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),f.preventDefault())})})})});bn.displayName=de;var Cn="MenuSubContent",jn=i.forwardRef((e,t)=>{const r=sn(A,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,o=te(A,e.__scopeMenu),c=ve(A,e.__scopeMenu),l=yn(Cn,e.__scopeMenu),u=i.useRef(null),m=Q(t,u);return n.jsx(fe.Provider,{scope:e.__scopeMenu,children:n.jsx(Re,{present:s||o.open,children:n.jsx(fe.Slot,{scope:e.__scopeMenu,children:n.jsx(st,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:m,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;c.isUsingKeyboardRef.current&&((f=u.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:E(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:E(e.onEscapeKeyDown,d=>{c.onClose(),d.preventDefault()}),onKeyDown:E(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),h=sa[c.dir].includes(d.key);f&&h&&(o.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});jn.displayName=Cn;function wn(e){return e?"open":"closed"}function ke(e){return e==="indeterminate"}function it(e){return ke(e)?"indeterminate":e?"checked":"unchecked"}function wa(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Ma(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function Na(e,t,r){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let c=Ma(e,Math.max(o,0));a.length===1&&(c=c.filter(m=>m!==r));const u=c.find(m=>m.toLowerCase().startsWith(a.toLowerCase()));return u!==r?u:void 0}function ka(e,t){const{x:r,y:s}=e;let a=!1;for(let o=0,c=t.length-1;o<t.length;c=o++){const l=t[o].x,u=t[o].y,m=t[c].x,d=t[c].y;u>s!=d>s&&r<(m-l)*(s-u)/(d-u)+l&&(a=!a)}return a}function Ea(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return ka(r,t)}function he(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Ra=rn,Pa=tt,Sa=an,Ta=on,Ia=at,Da=cn,_a=Te,La=un,Oa=fn,Aa=mn,Fa=pn,za=vn,$a=gn,Ba=bn,Ua=jn,ct="ContextMenu",[Ha,Jo]=It(ct,[tn]),_=tn(),[Ga,Mn]=Ha(ct),Nn=e=>{const{__scopeContextMenu:t,children:r,onOpenChange:s,dir:a,modal:o=!0}=e,[c,l]=i.useState(!1),u=_(t),m=xe(s),d=i.useCallback(f=>{l(f),m(f)},[m]);return n.jsx(Ga,{scope:t,open:c,onOpenChange:d,modal:o,children:n.jsx(Ra,{...u,dir:a,open:c,onOpenChange:d,modal:o,children:r})})};Nn.displayName=ct;var kn="ContextMenuTrigger",En=i.forwardRef((e,t)=>{const{__scopeContextMenu:r,disabled:s=!1,...a}=e,o=Mn(kn,r),c=_(r),l=i.useRef({x:0,y:0}),u=i.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),m=i.useRef(0),d=i.useCallback(()=>window.clearTimeout(m.current),[]),f=h=>{l.current={x:h.clientX,y:h.clientY},o.onOpenChange(!0)};return i.useEffect(()=>d,[d]),i.useEffect(()=>void(s&&d()),[s,d]),n.jsxs(n.Fragment,{children:[n.jsx(Pa,{...c,virtualRef:u}),n.jsx(X.span,{"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,...a,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:s?e.onContextMenu:E(e.onContextMenu,h=>{d(),f(h),h.preventDefault()}),onPointerDown:s?e.onPointerDown:E(e.onPointerDown,Ce(h=>{d(),m.current=window.setTimeout(()=>f(h),700)})),onPointerMove:s?e.onPointerMove:E(e.onPointerMove,Ce(d)),onPointerCancel:s?e.onPointerCancel:E(e.onPointerCancel,Ce(d)),onPointerUp:s?e.onPointerUp:E(e.onPointerUp,Ce(d))})]})});En.displayName=kn;var Va="ContextMenuPortal",Rn=e=>{const{__scopeContextMenu:t,...r}=e,s=_(t);return n.jsx(Sa,{...s,...r})};Rn.displayName=Va;var Pn="ContextMenuContent",Sn=i.forwardRef((e,t)=>{const{__scopeContextMenu:r,...s}=e,a=Mn(Pn,r),o=_(r),c=i.useRef(!1);return n.jsx(Ta,{...o,...s,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{var u;(u=e.onCloseAutoFocus)==null||u.call(e,l),!l.defaultPrevented&&c.current&&l.preventDefault(),c.current=!1},onInteractOutside:l=>{var u;(u=e.onInteractOutside)==null||u.call(e,l),!l.defaultPrevented&&!a.modal&&(c.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Sn.displayName=Pn;var Xa="ContextMenuGroup",Wa=i.forwardRef((e,t)=>{const{__scopeContextMenu:r,...s}=e,a=_(r);return n.jsx(Ia,{...a,...s,ref:t})});Wa.displayName=Xa;var Ya="ContextMenuLabel",Tn=i.forwardRef((e,t)=>{const{__scopeContextMenu:r,...s}=e,a=_(r);return n.jsx(Da,{...a,...s,ref:t})});Tn.displayName=Ya;var Ka="ContextMenuItem",In=i.forwardRef((e,t)=>{const{__scopeContextMenu:r,...s}=e,a=_(r);return n.jsx(_a,{...a,...s,ref:t})});In.displayName=Ka;var qa="ContextMenuCheckboxItem",Dn=i.forwardRef((e,t)=>{const{__scopeContextMenu:r,...s}=e,a=_(r);return n.jsx(La,{...a,...s,ref:t})});Dn.displayName=qa;var Za="ContextMenuRadioGroup",Ja=i.forwardRef((e,t)=>{const{__scopeContextMenu:r,...s}=e,a=_(r);return n.jsx(Oa,{...a,...s,ref:t})});Ja.displayName=Za;var Qa="ContextMenuRadioItem",_n=i.forwardRef((e,t)=>{const{__scopeContextMenu:r,...s}=e,a=_(r);return n.jsx(Aa,{...a,...s,ref:t})});_n.displayName=Qa;var eo="ContextMenuItemIndicator",Ln=i.forwardRef((e,t)=>{const{__scopeContextMenu:r,...s}=e,a=_(r);return n.jsx(Fa,{...a,...s,ref:t})});Ln.displayName=eo;var to="ContextMenuSeparator",On=i.forwardRef((e,t)=>{const{__scopeContextMenu:r,...s}=e,a=_(r);return n.jsx(za,{...a,...s,ref:t})});On.displayName=to;var no="ContextMenuArrow",ro=i.forwardRef((e,t)=>{const{__scopeContextMenu:r,...s}=e,a=_(r);return n.jsx($a,{...a,...s,ref:t})});ro.displayName=no;var so="ContextMenuSubTrigger",An=i.forwardRef((e,t)=>{const{__scopeContextMenu:r,...s}=e,a=_(r);return n.jsx(Ba,{...a,...s,ref:t})});An.displayName=so;var ao="ContextMenuSubContent",Fn=i.forwardRef((e,t)=>{const{__scopeContextMenu:r,...s}=e,a=_(r);return n.jsx(Ua,{...a,...s,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Fn.displayName=ao;function Ce(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var oo=Nn,io=En,co=Rn,zn=Sn,$n=Tn,Bn=In,Un=Dn,Hn=_n,Gn=Ln,Vn=On,Xn=An,Wn=Fn;const lt=oo,ut=io,lo=i.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(Xn,{ref:a,className:Y("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...s,children:[r,n.jsx(Mr,{className:"ml-auto h-4 w-4"})]}));lo.displayName=Xn.displayName;const uo=i.forwardRef(({className:e,...t},r)=>n.jsx(Wn,{ref:r,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));uo.displayName=Wn.displayName;const Ie=i.forwardRef(({className:e,...t},r)=>n.jsx(co,{children:n.jsx(zn,{ref:r,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-sm border bg-popover py-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));Ie.displayName=zn.displayName;const G=i.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(Bn,{ref:s,className:Y("relative flex cursor-default select-none items-center rounded-xs px-2 py-1.5 text-sm outline-none focus:bg-muted data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));G.displayName=Bn.displayName;const fo=i.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(Un,{ref:a,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Gn,{children:n.jsx(Nr,{className:"h-4 w-4"})})}),t]}));fo.displayName=Un.displayName;const ho=i.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Hn,{ref:s,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Gn,{children:n.jsx(kr,{className:"h-4 w-4 fill-current"})})}),t]}));ho.displayName=Hn.displayName;const mo=i.forwardRef(({className:e,inset:t,...r},s)=>n.jsx($n,{ref:s,className:Y("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...r}));mo.displayName=$n.displayName;const xo=i.forwardRef(({className:e,...t},r)=>n.jsx(Vn,{ref:r,className:Y("-mx-1 my-1 h-px bg-border",e),...t}));xo.displayName=Vn.displayName;function po(){const{fileTree:e}=Ze(),{currentVersion:t}=Je(),[r,s]=i.useState(null),[a,o]=i.useState(null);return n.jsxs("div",{className:"flex flex-col justify-between min-h-full",children:[n.jsxs(lt,{children:[n.jsx(ut,{children:n.jsx("ul",{className:"w-full h-full text-sm font-medium text-tertiary-foreground overflow-auto",children:n.jsx(Yn,{depth:1,tree:e,newEntry:a,setNewEntry:o,editingEntry:r,setEditingEntry:s})})}),n.jsxs(Ie,{children:[n.jsx(G,{onClick:()=>o({type:"file",path:"untitled",dirname:".",basename:"untitled"}),children:"New file..."}),n.jsx(G,{onClick:()=>o({type:"directory",path:"untitled",dirname:".",basename:"untitled",children:null}),children:"New folder..."})]})]}),t&&n.jsxs("p",{className:"font-mono text-tertiary-foreground rounded px-1.5 py-0.5 bg-muted text-xs w-fit m-1",children:["version: ",t.sha.slice(0,7)]})]})}function Yn(e){const{depth:t,tree:r,newEntry:s,setNewEntry:a,editingEntry:o,setEditingEntry:c}=e,{openFile:l,createFile:u,deleteFile:m,renameFile:d,openedFile:f,toggleFolder:h,isFolderOpen:g,openFolder:v,createFolder:p,deleteFolder:y,renameFolder:C}=Ze();if(r.children===null)return null;const k=[],M=[];for(const x of r.children)x.type==="directory"?k.push(x):M.push(x);const b=[];s!==null&&s.type==="directory"&&s.dirname===r.path&&b.push(n.jsx("li",{children:n.jsx(je,{depth:t,name:s.basename,onSubmit:x=>{p(r.path,x),a(null)},onCancel:()=>a(null)})},s.path));for(const x of k){const N=g(x);(o==null?void 0:o.path)===x.path?b.push(n.jsx("li",{children:n.jsx(je,{depth:t,name:x.basename,onSubmit:j=>{C(x,j),c(null)},onCancel:()=>c(null)})},x.path)):b.push(n.jsx("li",{children:n.jsx(go,{depth:t,label:x.basename,opened:N,onClick:()=>h(x),onDelete:()=>y(x),onRename:()=>c(x),onNewFile:()=>{g(x)||v(x),a({type:"file",path:x.path+"/untitled",dirname:x.path,basename:"untitled"})},onNewfolder:()=>{g(x)||v(x),a({type:"directory",path:x.path+"/untitled",dirname:x.path,basename:"untitled",children:null})}})},x.path)),N&&b.push(n.jsx(Yn,{depth:t+1,tree:x,newEntry:s,setNewEntry:a,editingEntry:o,setEditingEntry:c},x.path+"-tree"))}s!==null&&s.type==="file"&&s.dirname===r.path&&b.push(n.jsx("li",{children:n.jsx(je,{depth:t,name:s.basename,onSubmit:async x=>{const N=await u(r.path,x);l(N),a(null)},onCancel:()=>a(null)})},s.path));for(const x of M)x.path===(o==null?void 0:o.path)?b.push(n.jsx("li",{children:n.jsx(je,{depth:t,name:x.basename,onSubmit:N=>{d(x,N),c(null)},onCancel:()=>c(null)})},x.path)):b.push(n.jsx("li",{children:n.jsx(vo,{depth:t,label:x.basename,active:(f==null?void 0:f.path)===x.path,onClick:()=>l(x),onDelete:()=>m(x),onRename:()=>c(x)})},x.path));return b}function vo(e){return n.jsxs(lt,{children:[n.jsx(ut,{children:n.jsx(Kn,{...e,icon:n.jsx(ps,{size:12})})}),n.jsxs(Ie,{children:[n.jsx(G,{onClick:e.onRename,children:"Rename"}),n.jsx(G,{onClick:e.onDelete,children:"Delete"})]})]})}function go(e){return n.jsxs(lt,{children:[n.jsx(ut,{children:n.jsx(Kn,{...e,icon:n.jsx(Er,{size:12,className:B("transition-transform duration-100",e.opened&&"transform rotate-90")})})}),n.jsxs(Ie,{onCloseAutoFocus:t=>{t.preventDefault()},children:[n.jsx(G,{onClick:e.onNewFile,children:"New file..."}),n.jsx(G,{onClick:e.onNewfolder,children:"New folder..."}),n.jsx(G,{onClick:e.onRename,children:"Rename"}),n.jsx(G,{onClick:e.onDelete,children:"Delete"})]})]})}function je(e){const t=i.useRef(null);return i.useEffect(()=>{function r(){const s=t.current;if(s){s.focus();const a=s.value.lastIndexOf(".");s.setSelectionRange(0,a===-1?s.value.length:a)}}setTimeout(r,0)},[]),n.jsx("input",{ref:t,defaultValue:e.name,className:B("flex h-8 w-full rounded-sm border border-ring bg-transparent px-3 py-2 text-sm transition-colors","placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50","[&::selection]:bg-accent [&::selection]:text-accent-foreground"),style:{paddingLeft:`${e.depth*12}px`},onBlur:e.onCancel,onKeyDown:r=>{var s;r.key==="Enter"&&t.current?(r.preventDefault(),r.stopPropagation(),e.onSubmit(t.current.value)):r.key==="Escape"&&((s=t.current)==null||s.blur())}})}function Kn(e){const{depth:t,label:r,icon:s,active:a,onClick:o}=e;return n.jsxs("button",{onClick:o,className:B("py-1 px-2 leading-5 w-full flex items-center gap-1.5 cursor-pointer rounded-sm hover:bg-sb-core-20 dark:hover:bg-sb-core-110",a&&"text-foreground"),style:{paddingLeft:`${t*12}px`},title:r,children:[s," ",n.jsx("span",{className:"truncate font-light",children:r})]})}function yo(){const{setShowInstallModal:e,npmInstall:t,clearNodeModules:r,nodeModulesExists:s,status:a}=ie();return n.jsxs("div",{className:"flex flex-col gap-6 px-5 w-[360px]",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("p",{className:"text-sm text-tertiary-foreground",children:"To add packages, you can simply ask the AI in chat, or use the button below."}),n.jsx("div",{children:n.jsx(K,{children:n.jsxs(q,{children:[n.jsx(Z,{asChild:!0,children:n.jsxs(D,{onClick:()=>e(!0),className:"gap-1",children:[n.jsx(Ns,{size:16}),"Add a package"]})}),n.jsxs(J,{children:["Install packages ",n.jsx(Rr,{keys:["mod","i"]})]})]})})})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("p",{className:"text-sm text-tertiary-foreground",children:"If you suspect your node_modules are corrupted, you can clear them and reinstall all packages."}),n.jsx("div",{children:n.jsx(D,{onClick:()=>r(),disabled:s!==!0,children:"Clear all packages"})})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("p",{className:"text-sm text-tertiary-foreground",children:["Re-run ",n.jsx("code",{className:"code",children:"npm install"}),". This will run against the package.json from the project root."]}),n.jsx("div",{children:n.jsx(D,{onClick:()=>t(),disabled:a==="installing",children:"Re-install all packages"})})]})]})}function bo(e){switch(e){case"explorer":return"Files";case"packages":return"Manage Packages";default:return null}}function Co({initialPanel:e}){const{theme:t,toggleTheme:r}=Ke(),{status:s}=ie(),[a,o]=i.useState(e),[c,l]=i.useState(!1);function u(m){o(m===a?null:m)}return n.jsxs(n.Fragment,{children:[n.jsx(Pr,{open:c,onOpenChange:l}),n.jsxs("div",{className:"flex h-full border-r border-border",children:[n.jsxs("div",{className:"flex flex-col items-center justify-between w-12 h-full py-3 bg-muted z-10",children:[n.jsxs("div",{className:"flex flex-col items-center w-full gap-2",children:[n.jsx(we,{tooltipContent:"Codebase",onClick:()=>u("explorer"),children:n.jsx(vs,{size:18,className:V("transition-colors",a==="explorer"?"text-secondary-foreground":"text-tertiary-foreground hover:text-secondary-foreground")})}),n.jsx(we,{tooltipContent:"Packages",onClick:()=>u("packages"),children:n.jsx(Sr,{size:18,className:V("transition-colors",a==="packages"?"text-secondary-foreground":"text-tertiary-foreground hover:text-secondary-foreground",s==="installing"&&"text-run",s==="failed"&&"text-error")})})]}),n.jsxs("div",{className:"flex flex-col items-center w-full gap-2",children:[n.jsx(we,{tooltipContent:t==="light"?"Dark mode":"Light mode",onClick:r,children:t==="light"?n.jsx(Ms,{size:18,className:"text-tertiary-foreground hover:text-secondary-foreground transition-colors"}):n.jsx(Ps,{size:18,className:"text-tertiary-foreground hover:text-secondary-foreground transition-colors"})}),n.jsx(we,{tooltipContent:"Keyboard shortcuts",onClick:()=>l(!0),children:n.jsx(Tr,{size:18,className:"text-tertiary-foreground hover:text-secondary-foreground transition-colors"})})]})]}),n.jsxs(jo,{open:a!==null,title:bo(a),onClose:()=>{a!==null&&u(a)},children:[a==="explorer"&&n.jsx(po,{}),a==="packages"&&n.jsx(yo,{})]})]})]})}function we(e){return n.jsx(K,{children:n.jsxs(q,{children:[n.jsx(Z,{asChild:!0,children:n.jsx(D,{variant:"icon",size:"icon",className:"active:translate-y-0",onClick:e.onClick,children:e.children})}),n.jsx(J,{side:"right",children:e.tooltipContent})]})})}function jo(e){return e.open?n.jsxs("div",{className:"h-full flex flex-col bg-muted animate-in slide-in-from-left duration-75",children:[n.jsxs("div",{className:"flex items-center justify-between h-14 px-3 border-l",children:[n.jsx("h4",{className:"px-2 text-sm font-medium leading-none",children:e.title}),n.jsx("button",{className:"p-2 text-tertiary-foreground hover:text-foreground hover:bg-sb-core-20 dark:hover:bg-sb-core-110 rounded-sm",onClick:e.onClose,children:n.jsx(ds,{size:14})})]}),n.jsx("div",{className:"min-w-[200px] border-l pr-1.5 flex-1 overflow-auto",children:e.children})]}):null}const Mt=320;function wo(){const{logs:e,clearLogs:t,open:r,togglePane:s,closePane:a}=Qe();Lt("mod+shift+y",()=>{s()});const o=i.useRef(null);i.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[r]);const c=i.useRef(!1);return i.useEffect(()=>{if(!o.current)return;const l=o.current,u=()=>{c.current=l.scrollTop===l.scrollHeight-l.clientHeight};return l.addEventListener("scroll",u),()=>l.removeEventListener("scroll",u)},[]),i.useEffect(()=>{o.current&&c.current&&(o.current.scrollTop=o.current.scrollHeight)},[e]),n.jsxs("div",{className:V("flex flex-col w-full overflow-hidden transition-all duration-200 ease-in-out",r?"flex-grow":"flex-shrink-0 h-8"),style:{maxHeight:r?`${Mt}px`:"2rem",minHeight:r?`${Mt}px`:"2rem"},children:[n.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between border-t border-b h-8 px-1 w-full bg-muted",children:[n.jsx("button",{onClick:()=>s(),className:"px-2 text-sm font-medium h-6 select-none focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",children:"Logs"}),n.jsxs("div",{className:"flex items-center gap-1",children:[r&&e.length>0&&n.jsx(D,{size:"sm",variant:"icon",onClick:t,className:"active:translate-y-0 w-6 px-0",children:n.jsx(Ir,{size:14})}),r&&n.jsx(D,{size:"sm",variant:"icon",onClick:()=>a(),className:"active:translate-y-0 w-6 px-0",children:n.jsx(Dr,{size:16})})]})]}),r&&n.jsxs("div",{className:"flex-grow overflow-auto p-2",ref:o,children:[n.jsx("table",{className:"w-full border-collapse text-xs",children:n.jsx("tbody",{children:e.map((l,u)=>n.jsxs("tr",{children:[n.jsx("td",{className:"align-top select-none pointer-events-none whitespace-nowrap w-0 pr-4",children:n.jsx("span",{className:"font-mono text-tertiary-foreground/80",children:l.timestamp.toISOString()})}),n.jsx("td",{className:"align-top select-none pointer-events-none whitespace-nowrap w-0 pr-4",children:n.jsx("span",{className:"font-mono text-tertiary-foreground",children:l.source})}),n.jsx("td",{className:"align-top",children:n.jsx("pre",{className:V("font-mono cursor-text whitespace-pre-wrap",{"text-red-300":l.type==="stderr","text-secondary-foreground":l.type==="info"}),children:l.message})})]},u))})}),e.length===0&&n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx("span",{className:"text-tertiary-foreground",children:"No logs"})})]})]})}function Mo(e){return n.jsx("div",{className:B("sb-prose-chat px-2",e.className),children:n.jsx(_r,{gfm:!0,children:e.source})})}function U(){}U.prototype={diff:function(t,r){var s,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.callback;typeof a=="function"&&(o=a,a={});var c=this;function l(b){return b=c.postProcess(b,a),o?(setTimeout(function(){o(b)},0),!0):b}t=this.castInput(t,a),r=this.castInput(r,a),t=this.removeEmpty(this.tokenize(t,a)),r=this.removeEmpty(this.tokenize(r,a));var u=r.length,m=t.length,d=1,f=u+m;a.maxEditLength!=null&&(f=Math.min(f,a.maxEditLength));var h=(s=a.timeout)!==null&&s!==void 0?s:1/0,g=Date.now()+h,v=[{oldPos:-1,lastComponent:void 0}],p=this.extractCommon(v[0],r,t,0,a);if(v[0].oldPos+1>=m&&p+1>=u)return l(Nt(c,v[0].lastComponent,r,t,c.useLongestToken));var y=-1/0,C=1/0;function k(){for(var b=Math.max(y,-d);b<=Math.min(C,d);b+=2){var x=void 0,N=v[b-1],j=v[b+1];N&&(v[b-1]=void 0);var T=!1;if(j){var S=j.oldPos-b;T=j&&0<=S&&S<u}var R=N&&N.oldPos+1<m;if(!T&&!R){v[b]=void 0;continue}if(!R||T&&N.oldPos<j.oldPos?x=c.addToPath(j,!0,!1,0,a):x=c.addToPath(N,!1,!0,1,a),p=c.extractCommon(x,r,t,b,a),x.oldPos+1>=m&&p+1>=u)return l(Nt(c,x.lastComponent,r,t,c.useLongestToken));v[b]=x,x.oldPos+1>=m&&(C=Math.min(C,b-1)),p+1>=u&&(y=Math.max(y,b+1))}d++}if(o)(function b(){setTimeout(function(){if(d>f||Date.now()>g)return o();k()||b()},0)})();else for(;d<=f&&Date.now()<=g;){var M=k();if(M)return M}},addToPath:function(t,r,s,a,o){var c=t.lastComponent;return c&&!o.oneChangePerToken&&c.added===r&&c.removed===s?{oldPos:t.oldPos+a,lastComponent:{count:c.count+1,added:r,removed:s,previousComponent:c.previousComponent}}:{oldPos:t.oldPos+a,lastComponent:{count:1,added:r,removed:s,previousComponent:c}}},extractCommon:function(t,r,s,a,o){for(var c=r.length,l=s.length,u=t.oldPos,m=u-a,d=0;m+1<c&&u+1<l&&this.equals(s[u+1],r[m+1],o);)m++,u++,d++,o.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return d&&!o.oneChangePerToken&&(t.lastComponent={count:d,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=u,m},equals:function(t,r,s){return s.comparator?s.comparator(t,r):t===r||s.ignoreCase&&t.toLowerCase()===r.toLowerCase()},removeEmpty:function(t){for(var r=[],s=0;s<t.length;s++)t[s]&&r.push(t[s]);return r},castInput:function(t){return t},tokenize:function(t){return Array.from(t)},join:function(t){return t.join("")},postProcess:function(t){return t}};function Nt(e,t,r,s,a){for(var o=[],c;t;)o.push(t),c=t.previousComponent,delete t.previousComponent,t=c;o.reverse();for(var l=0,u=o.length,m=0,d=0;l<u;l++){var f=o[l];if(f.removed)f.value=e.join(s.slice(d,d+f.count)),d+=f.count;else{if(!f.added&&a){var h=r.slice(m,m+f.count);h=h.map(function(g,v){var p=s[d+v];return p.length>g.length?p:g}),f.value=e.join(h)}else f.value=e.join(r.slice(m,m+f.count));m+=f.count,f.added||(d+=f.count)}}return o}function kt(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}function Et(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}function Ge(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}function Ve(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}function ue(e,t){return Ge(e,t,"")}function Me(e,t){return Ve(e,t,"")}function Rt(e,t){return t.slice(0,No(e,t))}function No(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var s=t.length;e.length<t.length&&(s=e.length);var a=Array(s),o=0;a[0]=0;for(var c=1;c<s;c++){for(t[c]==t[o]?a[c]=a[o]:a[c]=o;o>0&&t[c]!=t[o];)o=a[o];t[c]==t[o]&&o++}o=0;for(var l=r;l<e.length;l++){for(;o>0&&e[l]!=t[o];)o=a[o];e[l]==t[o]&&o++}return o}var Ee="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",ko=new RegExp("[".concat(Ee,"]+|\\s+|[^").concat(Ee,"]"),"ug"),De=new U;De.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};De.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(o){return o.segment})}else r=e.match(ko)||[];var s=[],a=null;return r.forEach(function(o){/\s/.test(o)?a==null?s.push(o):s.push(s.pop()+o):/\s/.test(a)?s[s.length-1]==a?s.push(s.pop()+o):s.push(a+o):s.push(o),a=o}),s};De.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};De.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,s=null,a=null;return e.forEach(function(o){o.added?s=o:o.removed?a=o:((s||a)&&Pt(r,a,s,o),r=o,s=null,a=null)}),(s||a)&&Pt(r,a,s,null),e};function Pt(e,t,r,s){if(t&&r){var a=t.value.match(/^\s*/)[0],o=t.value.match(/\s*$/)[0],c=r.value.match(/^\s*/)[0],l=r.value.match(/\s*$/)[0];if(e){var u=kt(a,c);e.value=Ve(e.value,c,u),t.value=ue(t.value,u),r.value=ue(r.value,u)}if(s){var m=Et(o,l);s.value=Ge(s.value,l,m),t.value=Me(t.value,m),r.value=Me(r.value,m)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),s&&(s.value=s.value.replace(/^\s*/,""));else if(e&&s){var d=s.value.match(/^\s*/)[0],f=t.value.match(/^\s*/)[0],h=t.value.match(/\s*$/)[0],g=kt(d,f);t.value=ue(t.value,g);var v=Et(ue(d,g),h);t.value=Me(t.value,v),s.value=Ge(s.value,d,v),e.value=Ve(e.value,d,d.slice(0,d.length-v.length))}else if(s){var p=s.value.match(/^\s*/)[0],y=t.value.match(/\s*$/)[0],C=Rt(y,p);t.value=Me(t.value,C)}else if(e){var k=e.value.match(/\s*$/)[0],M=t.value.match(/^\s*/)[0],b=Rt(k,M);t.value=ue(t.value,b)}}var Eo=new U;Eo.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(Ee,"]+|[^\\S\\n\\r]+|[^").concat(Ee,"]"),"ug");return e.match(t)||[]};var _e=new U;_e.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],s=e.split(/(\n|\r\n)/);s[s.length-1]||s.pop();for(var a=0;a<s.length;a++){var o=s[a];a%2&&!t.newlineIsToken?r[r.length-1]+=o:r.push(o)}return r};_e.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),U.prototype.equals.call(this,e,t,r)};function Ro(e,t,r){return _e.diff(e,t,r)}var Po=new U;Po.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var So=new U;So.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Xe(e){"@babel/helpers - typeof";return Xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(e)}var me=new U;me.useLongestToken=!0;me.tokenize=_e.tokenize;me.castInput=function(e,t){var r=t.undefinedReplacement,s=t.stringifyReplacer,a=s===void 0?function(o,c){return typeof c>"u"?r:c}:s;return typeof e=="string"?e:JSON.stringify(We(e,null,null,a),a,"  ")};me.equals=function(e,t,r){return U.prototype.equals.call(me,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};function We(e,t,r,s,a){t=t||[],r=r||[],s&&(e=s(a,e));var o;for(o=0;o<t.length;o+=1)if(t[o]===e)return r[o];var c;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),c=new Array(e.length),r.push(c),o=0;o<e.length;o+=1)c[o]=We(e[o],t,r,s,a);return t.pop(),r.pop(),c}if(e&&e.toJSON&&(e=e.toJSON()),Xe(e)==="object"&&e!==null){t.push(e),c={},r.push(c);var l=[],u;for(u in e)Object.prototype.hasOwnProperty.call(e,u)&&l.push(u);for(l.sort(),o=0;o<l.length;o+=1)u=l[o],c[u]=We(e[u],t,r,s,u);t.pop(),r.pop()}else c=e;return c}var Ye=new U;Ye.tokenize=function(e){return e.slice()};Ye.join=Ye.removeEmpty=function(e){return e};function To(e,t){const r=Ro(e,t);let s=0,a=0;return r.forEach(o=>{o.added?s+=o.count??0:o.removed&&(a+=o.count??0)}),{additions:s,deletions:a}}function Io(e,t,r=5){const s=e+t;if(s===0)return Array(r).fill(0);if(s<=r)return St(e,t,r);const a=e/s;let o=Math.round(a*r);o=e>0?Math.max(1,o):0;let c=r-o;return c=t>0?Math.max(1,c):0,o+c>r&&(e>t?c=r-o:o=r-c),St(o,c,r)}function St(e,t,r){e+t>r&&console.error(`Expected max ${r} squares but got ${e+t}`);const s=[];for(let a=0;a<e;a++)s.push(1);for(let a=0;a<t;a++)s.push(-1);for(let a=0,o=r-s.length;a<o;a++)s.push(0);return s}function qn(e){return n.jsxs("div",{className:V("flex items-center gap-2",e.className),children:[n.jsxs("span",{className:"text-green-500",children:["+",e.additions]}),n.jsxs("span",{className:"text-red-400",children:["-",e.deletions]})]})}function Do(e){const t=Io(e.additions,e.deletions);return n.jsx("div",{className:V("flex items-center gap-0.5",e.className),children:t.map((r,s)=>n.jsx("span",{className:V("w-3 h-3 rounded-sm",{"bg-border":r===0,"bg-red-400":r===-1,"bg-green-500":r===1})},s))})}function _o({isOpen:e,onClose:t,onSubmit:r}){const[s,a]=i.useState(""),o=()=>{r(s),a(""),t()},c=l=>{l.key==="Enter"&&(l.metaKey||l.ctrlKey)&&(l.preventDefault(),o())};return n.jsx(Lr,{open:e,onOpenChange:t,children:n.jsxs(Or,{className:"sm:max-w-[425px]",children:[n.jsx(Ar,{children:n.jsx(Fr,{children:"Provide Feedback"})}),n.jsx("div",{className:"grid gap-4 py-4",children:n.jsx(Ot,{placeholder:"Tell us more about what went wrong...",className:"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",value:s,onChange:l=>a(l.target.value),onKeyDown:c,minRows:3,maxRows:10})}),n.jsxs(zr,{children:[n.jsx(L,{variant:"ghost",onClick:t,children:"Cancel"}),n.jsx(L,{onClick:o,children:"Submit Feedback"})]})]})})}function Lo({history:e,loading:t,onClose:r,app:s,fileDiffs:a,diffApplied:o,revertDiff:c,reApplyDiff:l,openDiffModal:u}){const{npmInstall:m}=ie(),d=i.useRef(null),f=()=>{var h;(h=d.current)==null||h.scrollIntoView({behavior:"smooth"})};return i.useEffect(()=>{f()},[e,t]),n.jsxs("div",{className:"rounded-lg bg-sb-core-120 w-[440px] border shadow-xl max-h-[75vh]",children:[n.jsxs("div",{className:"flex justify-between h-[40px] items-center border-b px-1",children:[n.jsx("span",{className:"text-sm px-2",children:"👨‍💻 Codelive Assistant"}),n.jsx("span",{className:"flex items-center",children:n.jsx(L,{variant:"icon",className:"h-7 w-7 p-1.5 border-none",onClick:r,children:n.jsx(ws,{size:18,className:"text-sb-core-80"})})})]}),n.jsx("div",{className:"max-h-[calc(75vh-40px)] p-2 overflow-y-auto bg-sb-core-120",children:n.jsxs("div",{className:"flex flex-col gap-2",children:[e.map((h,g)=>{if(h.type==="user")return n.jsx("p",{className:"text-sm bg-inline-code rounded-md p-2 w-fit",children:h.message},g);if(h.type==="command"){const v=h.packages;if(!v){console.error("The only supported command is `npm install <packages>`. Got:",h.command);return}return n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsx("p",{children:"Install dependencies"}),n.jsxs("div",{className:"flex justify-between items-center gap-1",children:[n.jsx("p",{className:"font-mono bg-inline-code rounded-md p-2 overflow-x-scroll whitespace-nowrap flex-grow",children:`npm install ${v.join(" ")}`}),n.jsx(L,{onClick:()=>m(v),children:"Run"})]})]},g)}else{if(h.type==="plan")return n.jsx(Mo,{source:h.content.trim()},g);if(h.type==="diff"){const y=e.filter(C=>C.type==="diff").findIndex(C=>C===h)+1;return n.jsx(Ao,{files:h.diff,app:s,version:h.version,planId:h.planId,incrementalVersion:y},g)}}}),n.jsxs("div",{className:B("flex gap-2 w-full px-2",a.length>0?"":"hidden"),children:[n.jsxs(L,{variant:"ai-secondary",onClick:o?c:l,className:"flex-1 flex items-center gap-1.5",children:[o?n.jsx(Gt,{size:16}):n.jsx(Es,{size:16}),n.jsx("span",{children:o?"Undo":"Re-apply"})]}),n.jsxs(L,{variant:"ai",onClick:u,className:"flex-1 flex items-center gap-1.5",children:[n.jsx(Is,{size:16}),n.jsx("span",{children:"Review changes"})]})]}),t!==null&&n.jsxs("div",{className:"flex items-center gap-2 text-sm pt-3",children:[n.jsx(js,{size:18,className:"animate-spin text-ai-btn"})," ",n.jsx("p",{className:"text-xs",children:t==="description"?"Let me think about this...":"Coding your changes now.."})]}),n.jsx("div",{ref:d})]})})]})}function Oo({onSubmit:e,onFocus:t,isLoading:r,isVisible:s,setVisible:a}){const[o,c]=i.useState(""),l=()=>{const u=o.trim();u&&(c(""),e(u))};return n.jsxs("div",{className:B("rounded-lg w-[440px] border p-2 shadow-xl transition-all","bg-sb-core-120 hover:border-ai-ring focus-within:border-ai-ring",r&&"hover:border-border"),children:[n.jsx(Ot,{disabled:r,placeholder:"What do you want to change?",className:"flex w-full rounded-sm bg-transparent px-2 mb-2 text-sm caret-ai-btn placeholder:text-muted-foreground focus-visible:outline-none resize-none",maxRows:20,onChange:u=>c(u.target.value),onFocus:t,value:o,onKeyDown:u=>{(u.key==="Enter"&&!u.shiftKey||u.metaKey&&!u.shiftKey&&u.key==="Enter")&&(u.preventDefault(),u.stopPropagation(),l())}}),n.jsxs("span",{className:"flex items-center justify-end gap-1.5 mt-2",children:[n.jsx(L,{variant:"icon",className:"h-7 w-7 p-1.5 border-none text-tertiary-foreground",children:s?n.jsx(ks,{size:18,onClick:()=>a(!1)}):n.jsx(bs,{size:18,onClick:()=>a(!0)})}),n.jsx(L,{variant:"ai",className:"h-7 w-7 p-1.5 foxus:outline-none border-none",onClick:l,disabled:!o,children:r?n.jsx(qe,{size:18,className:"animate-spin"}):n.jsx(cs,{size:18})})]})]})}function Ao({files:e,app:t,incrementalVersion:r,version:s,planId:a}){const[o,c]=i.useState(!1),[l,u]=i.useState(null),[m,d]=i.useState(!1),{checkout:f,currentVersion:h}=Je(),g=p=>{c(!0),u(p),setTimeout(()=>c(!1),2500)},v=p=>{g("negative"),mt(t.id,{planId:a,feedback:{type:"negative",text:p}})};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:B("px-2 mx-2 pb-2 rounded border overflow-y-auto bg-ai border-ai-border text-ai-foreground transition-all",(h==null?void 0:h.sha)===s?"border-ai-foreground":"border-ai-border"),children:n.jsxs("div",{className:"flex flex-col justify-between min-h-full",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex gap-2 items-center text-sm h-10",children:[n.jsx("span",{className:"font-medium",children:t.name}),n.jsxs("span",{className:"font-mono",children:["V",r]})]}),s&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(gs,{size:16}),n.jsxs("span",{className:"font-mono text-sm",children:["#",s?s.slice(0,7):"unknown version"]})]}),n.jsxs(Br,{children:[n.jsx(Ur,{asChild:!0,children:n.jsx(L,{variant:"ghost",size:"icon",className:"h-8 w-8 p-0",children:n.jsx(ms,{size:16})})}),n.jsx(Hr,{align:"end",children:n.jsx(Gr,{onClick:()=>f(s),children:"Revert to this version"})})]})]})]}),n.jsx("div",{children:e.map(p=>n.jsx("div",{children:n.jsxs("div",{className:"flex justify-between items-center text-sm font-mono h-8",children:[n.jsx(At,{to:`/apps/${t.id}/files/${encodeURIComponent(p.path)}`,children:n.jsx("p",{className:"font-mono hover:underline",children:p.path})}),n.jsx(qn,{additions:p.additions,deletions:p.deletions})]})},p.path))})]})}),n.jsxs("div",{className:"flex px-2 items-center gap-2 my-2 hidden",children:[n.jsx(L,{variant:"icon",className:B("h-7 w-7 p-1.5 border-none",l==="positive"?"text-secondary-foreground":"text-tertiary-foreground"),"aria-label":"Upvote",onClick:()=>{g("positive"),mt(t.id,{planId:a,feedback:{type:"positive"}})},children:n.jsx(Ts,{size:18})}),n.jsx(L,{variant:"icon",className:B("h-7 w-7 p-1.5 border-none",l==="negative"?"text-secondary-foreground":"text-tertiary-foreground"),"aria-label":"Downvote",onClick:()=>d(!0),children:n.jsx(Ss,{size:18})}),o&&n.jsx("p",{className:"text-sm text-tertiary-foreground",children:"Thanks for the feedback!"})]}),n.jsx(_o,{isOpen:m,onClose:()=>d(!1),onSubmit:v})]})}function Fo(e){const[t,r]=i.useState(!1),[s,a]=i.useState({x:20,y:20}),o=i.useRef(null),c=i.useRef({x:0,y:0}),[l,u]=i.useState(!1),m=h=>{h.target instanceof Element&&h.target.closest(".drag-handle")&&(r(!0),u(!0),c.current={x:h.clientX+s.x,y:h.clientY+s.y})},d=h=>{if(t&&o.current){const g=c.current.x-h.clientX,v=c.current.y-h.clientY,p=window.innerWidth-o.current.offsetWidth,y=window.innerHeight-o.current.offsetHeight;a({x:Math.max(0,Math.min(g,p)),y:Math.max(0,Math.min(v,y))})}},f=()=>{r(!1),u(!1)};return i.useEffect(()=>(l?(document.addEventListener("mousemove",d),document.addEventListener("mouseup",f)):(document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",f)),()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",f)}),[t,l]),n.jsxs(n.Fragment,{children:[l&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0}}),n.jsx("div",{ref:o,className:"fixed",style:{bottom:`${s.y}px`,right:`${s.x}px`,userSelect:`${t?"none":"auto"}`},onMouseDown:m,children:n.jsxs("div",{className:"flex items-end gap-1",children:[n.jsx(ys,{className:B("text-gray-400 drag-handle bg-background/10 rounded-sm",t?"cursor-grabbing":"cursor-grab")}),e.children]})})]})}function zo(e){const{app:t}=et(),[r,s]=i.useState([]),[a,o]=i.useState([]),[c,l]=i.useState(!1),[u,m]=i.useState(null),[d,f]=i.useState(!1),{createFile:h,deleteFile:g}=Ze(),{createVersion:v}=Je();i.useEffect(()=>{$r(t.id).then(({data:x})=>s(x)).catch(x=>{console.error("Error fetching chat history:",x)})},[t]);const p=async x=>{const N=Vr();m("description"),o([]);const j={type:"user",message:x,planId:N};s(R=>[...R,j]),ge(t.id,j),l(!0);const T=await Xr(t.id,x,N),S=[];for await(const R of T)if(R.type==="description"){const F={type:"plan",content:R.data.content,planId:N};s(z=>[...z,F]),ge(t.id,F),m("actions")}else if(R.type==="action")if(R.data.type==="command"){const F={type:"command",command:R.data.command,packages:R.data.packages,description:R.data.description,planId:N};s(z=>[...z,F]),ge(t.id,F)}else R.data.type==="file"&&S.push(R.data);else console.error("Unknown message type:",R);if(S.length>0){for(const I of S)h(I.dirname,I.basename,I.modified);const R=await v(`Changes for planId: ${N}`),F=S.map(I=>{const{additions:ce,deletions:Le}=To(I.original??"",I.modified);return{modified:I.modified,original:I.original,basename:I.basename,dirname:I.dirname,path:I.path,additions:ce,deletions:Le,type:I.original?"edit":"create"}}),z={type:"diff",diff:F,planId:N,version:R};s(I=>[...I,z]),ge(t.id,z),o(F),f(!0)}m(null)},y=()=>{for(const x of a)x.original?h(x.dirname,x.basename,x.original):g({type:"file",path:x.path,dirname:x.dirname,basename:x.basename});f(!1)},C=()=>{for(const x of a)h(x.dirname,x.basename,x.modified);f(!0)},k=()=>{l(!1)},M=()=>{r.length>0&&l(!0)};function b(){e.triggerDiffModal({files:a,onUndoAll:()=>{y(),e.triggerDiffModal(null)}})}return n.jsx(Fo,{children:n.jsxs("div",{className:"flex flex-col gap-2",children:[c&&n.jsx(Lo,{history:r,loading:u,onClose:k,app:t,diffApplied:d,reApplyDiff:C,revertDiff:y,fileDiffs:a,openDiffModal:b}),n.jsx(Oo,{onSubmit:p,isLoading:u!==null,onFocus:M,isVisible:c,setVisible:l})]})})}function $o(e){const t=e.lastIndexOf(".");return t===-1?"":e.slice(t)}function Qo({path:e,source:t,onChange:r}){const{codeTheme:s}=Ke(),a=Zn(e),o=a?[a]:[];return n.jsx(Ft,{value:t,theme:s,extensions:o,onChange:r},e)}function Bo({path:e,modified:t,original:r,collapseUnchanged:s}){const{codeTheme:a}=Ke(),o=[Jr.editable.of(!1),Qr.readOnly.of(!0),es({original:r??"",mergeControls:!1,highlightChanges:!1,collapseUnchanged:s})],c=Zn(e);return c&&o.unshift(c),n.jsx(Ft,{value:t,theme:a,extensions:o})}function Zn(e){switch($o(e)){case".json":return Zr();case".css":return qr();case".html":return Kr();case".md":case".markdown":return Yr();case".js":case".cjs":case".mjs":case".jsx":case".ts":case".cts":case".mts":case".tsx":return Wr({typescript:!0,jsx:!0})}}function Uo({files:e,onClose:t,onUndoAll:r}){return n.jsx(zt,{open:!0,onOpenChange:s=>{s===!1&&t()},children:n.jsxs($t,{className:V("w-[95vw] h-[95vh] max-w-none p-0 gap-0 flex flex-col"),hideClose:!0,children:[n.jsx(Bt,{className:"sr-only",children:"View diff of files changed"}),n.jsx(Ho,{numFiles:e.length,onClose:t,onUndoAll:r}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6 flex flex-col gap-6",children:e.map(s=>n.jsx(Go,{file:s},s.path))})]})})}function Ho({numFiles:e,onClose:t,onUndoAll:r}){return n.jsxs("div",{className:"h-12 px-4 flex items-center justify-between border-b border-border",children:[n.jsx("div",{children:n.jsx(Ut,{className:"font-semibold",children:`${e} ${e===1?"file":"files"} changed`})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(L,{variant:"secondary",className:"flex items-center space-x-1.5",onClick:r,children:[n.jsx(Gt,{size:16}),n.jsx("span",{children:"Undo all"})]}),n.jsx(L,{onClick:t,children:"Done"})]})]})}function Go({file:e}){return n.jsxs("div",{className:"border rounded-md",children:[n.jsx("div",{className:"h-10 px-3 flex items-center border-b border-border",children:n.jsxs("div",{className:"font-mono text-sm flex items-center gap-3",children:[n.jsx("h4",{className:"text-secondary-foreground",children:e.path}),n.jsx(qn,{additions:e.additions,deletions:e.deletions}),n.jsx(Do,{additions:e.additions,deletions:e.deletions})]})}),n.jsx("div",{className:"flex flex-col",children:n.jsx(Bo,{path:e.path,modified:e.modified,original:e.original,collapseUnchanged:{margin:3,minSize:4}})})]})}function Vo(e){const{app:t,updateApp:r}=et(),{url:s,start:a,stop:o,status:c}=is(),{status:l,nodeModulesExists:u}=ie(),[m,d]=i.useState(!1),{open:f,togglePane:h,panelIcon:g}=Qe(),[v,p]=i.useState(!1),y=async()=>{try{d(!0);const C=await ts(t.id,t.name),k=window.URL.createObjectURL(C),M=document.createElement("a");M.style.display="none",M.href=k,M.download=`${t.name}.zip`,document.body.appendChild(M),M.click(),window.URL.revokeObjectURL(k),document.body.removeChild(M),pt.success("Code Export Completed!"),d(!1)}catch(C){console.error("Export failed:",C),pt.error("Failed to this code. Please try again.")}};return n.jsxs(n.Fragment,{children:[v&&n.jsx(Xo,{name:t.name,onUpdate:C=>{r({name:C}),p(!1)},onClose:()=>{p(!1)}}),l==="installing"?n.jsx("div",{className:"fixed top-0 left-0 right-0 z-[51] h-0.5 pointer-events-none",children:n.jsx("div",{className:"h-full w-full bg-white animate-indeterminate"})}):null,n.jsxs("header",{className:`w-full flex items-center justify-between bg-background z-50 text-sm border-b border-b-border relative ${e.className||""}`,children:[n.jsx(At,{to:"/",className:"px-4",title:"Home",children:n.jsx(Cs,{size:20})}),n.jsxs("nav",{className:"flex items-center justify-between px-2 flex-1",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("button",{className:"px-2 text-sm font-medium",onClick:C=>{C.preventDefault(),C.stopPropagation(),p(!0)},children:t.name})}),n.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 flex bg-inline-code h-7 rounded-sm",children:[n.jsxs("button",{className:`flex gap-2 justify-center items-center w-24 text-foreground rounded-sm font-medium ${e.tab==="code"?"bg-background border border-border":""}`,onClick:()=>e.onChangeTab("code"),children:[n.jsx(hs,{size:14}),"Code"]}),n.jsxs("button",{className:`flex gap-2 justify-center items-center w-24 text-foreground rounded-sm font-medium ${e.tab==="preview"?"bg-background border border-border":""}`,onClick:()=>e.onChangeTab("preview"),children:[n.jsx(xt,{size:14}),"Preview"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[e.tab==="preview"&&c==="stopped"?n.jsx(K,{children:n.jsxs(q,{children:[n.jsx(Z,{asChild:!0,children:n.jsx(D,{variant:"icon",size:"icon",onClick:a,className:"active:translate-y-0",disabled:u!==!0,children:n.jsx(xt,{size:18})})}),n.jsx(J,{children:"Start dev server"})]})}):null,e.tab==="preview"&&c!=="stopped"?n.jsxs(n.Fragment,{children:[s&&n.jsx(K,{children:n.jsxs(q,{children:[n.jsx(Z,{asChild:!0,children:n.jsx(D,{variant:"icon",size:"icon",onClick:()=>window.open(s,"_blank"),className:"active:translate-y-0",disabled:c!=="running",children:n.jsx(xs,{size:18})})}),n.jsx(J,{children:"😎 Preview In Browser"})]})}),n.jsx(K,{children:n.jsxs(q,{children:[n.jsx(Z,{asChild:!0,children:n.jsx(D,{variant:"icon",size:"icon",onClick:()=>{o(),e.onChangeTab("code")},className:"active:translate-y-0",disabled:c!=="running",children:n.jsx(fs,{size:18})})}),n.jsx(J,{children:"🛑 Stop This Server"})]})})]}):null,n.jsx("div",{className:`w-[1px] h-6 bg-border mx-2 ${e.tab!=="preview"?"invisible":""}`}),n.jsx(K,{children:n.jsxs(q,{children:[n.jsx(Z,{asChild:!0,children:n.jsxs(D,{variant:"icon",size:"icon",onClick:h,className:"active:translate-y-0",children:[g==="default"&&!f?n.jsx(us,{size:18}):null,g==="default"&&f?n.jsx(ls,{size:18}):null,g==="error"?n.jsx(Ht,{size:18,className:"text-red-600"}):null]})}),n.jsx(J,{children:"👀 View Server Logs"})]})}),n.jsx(K,{children:n.jsxs(q,{children:[n.jsx(Z,{asChild:!0,children:n.jsx(D,{variant:"icon",size:"icon",onClick:y,className:"active:translate-y-0",children:m?n.jsx(qe,{size:18,className:"animate-spin"}):n.jsx(Rs,{size:18})})}),n.jsx(J,{children:"⬇ Download This Code"})]})})]})]})]})]})}function Xo(e){const[t,r]=i.useState(e.name);return n.jsx(zt,{defaultOpen:!0,onOpenChange:s=>{s||e.onClose()},children:n.jsx($t,{hideClose:!0,children:n.jsxs(ns,{children:[n.jsx(Ut,{children:"Rename Project"}),n.jsx(Bt,{className:"sr-only",children:"Rename this Project"}),n.jsx("div",{className:"pt-2",children:n.jsx(rs,{value:t,onChange:s=>r(s.currentTarget.value)})}),n.jsxs("div",{className:"flex w-full justify-end items-center gap-2 pt-4 bg-background",children:[n.jsx(D,{variant:"secondary",onClick:e.onClose,children:"Cancel"}),n.jsx(D,{onClick:()=>e.onUpdate(t),disabled:t.trim()==="",children:"Save"})]})]})})})}const $e=({className:e,showToast:t,children:r})=>n.jsx("div",{className:V("absolute bottom-4 left-4 z-20 p-3 bg-muted border","rounded-md transition-all duration-150 ease-in-out text-sm",{"opacity-0 -bottom-8":!t},e),children:r}),Wo=()=>{const{togglePane:e}=Qe(),{status:t,npmInstall:r,nodeModulesExists:s}=ie(),[a,o]=i.useState(!1);switch(i.useEffect(()=>{s===!1&&(t==="idle"||t==="complete")?o(!0):s===!0&&o(!1)},[s,t]),t){case"installing":return n.jsxs($e,{showToast:a,className:"flex items-center gap-9",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(qe,{size:18,className:"animate-spin"}),n.jsx("span",{className:"select-none",children:"Installing Packages..."})]}),n.jsx(D,{variant:"ghost",className:"active:translate-y-0",onClick:()=>o(!1),children:"Close"})]});case"failed":return n.jsxs($e,{showToast:a,className:"flex items-center gap-9",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ht,{size:18}),n.jsx("span",{className:"font-medium select-none",children:"Packages failed to install"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(D,{variant:"ghost",className:"active:translate-y-0",onClick:()=>o(!1),children:"Close"}),n.jsx(D,{className:"active:translate-y-0",onClick:()=>{e(),o(!1)},children:"More info"})]})]});case"idle":case"complete":return n.jsxs($e,{showToast:a,className:"flex items-center gap-9",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ss,{size:18}),n.jsx("span",{className:"select-none",children:"Packages need to be installed"})]}),n.jsx(D,{className:"active:translate-y-0",onClick:()=>r().then(()=>o(!1)),children:"Install"})]})}},Yo=Wo;function ei(e){const t=as(),{app:r}=et(),{installing:s,npmInstall:a,output:o,showInstallModal:c,setShowInstallModal:l}=ie(),[u,m]=i.useState(null);return Lt("mod+i",()=>{l(!0)}),n.jsxs(n.Fragment,{children:[u&&n.jsx(Uo,{...u,onClose:()=>m(null)}),n.jsx(os,{open:c,setOpen:l,installing:s,npmInstall:a,output:o}),n.jsx(Vo,{tab:e.activeTab,onChangeTab:d=>{t(d==="preview"?`/apps/${r.id}`:`/apps/${r.id}/files`)},className:"shrink-0 h-12 max-h-12"}),n.jsxs("div",{className:"h-[calc(100vh-3rem)] flex",children:[n.jsx(Co,{initialPanel:e.activePanel}),n.jsxs("div",{className:"grow shrink flex flex-col w-0",children:[n.jsxs("div",{className:"relative grow shrink flex flex-col w-full overflow-hidden",children:[n.jsx(Yo,{}),n.jsx("div",{className:"w-full flex-1 overflow-auto",children:e.children})]}),n.jsx(wo,{})]}),n.jsx(zo,{triggerDiffModal:m})]})]})}export{ei as A,Qo as C};
